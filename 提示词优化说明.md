# RustSentinel AI 助手提示词优化说明

## 优化前的问题

### 问题 1：回答模糊
```
用户：如何使用 RustSentinel 审计代码？
AI：很抱歉，我可能没有完全理解您的问题...
```

### 问题 2：缺少具体信息
```
用户：审计费用是多少？
AI：对不起，我无法提供具体的审计费用信息...
```

## 优化后的改进

### ✅ 改进 1：更详细的系统提示词

**新增内容：**
1. **具体的功能说明**
   - 明确列出 6 种安全检查类型
   - 详细的使用流程（5 个步骤）
   - 具体的费用信息（0.001 ETH）

2. **常见问题预设**
   - 审计时间：30-60 秒
   - 费用：0.001 ETH（约 $2-3）
   - 支持的钱包类型
   - 代码大小限制

3. **回答规则**
   - 直接回答，不说"可能没理解"
   - 给出具体数字和步骤
   - 控制回答长度（100-200 字）

### ✅ 改进 2：更具体的快速问题

**优化前：**
- "如何使用 RustSentinel 审计代码？" （太宽泛）
- "审计费用是多少？" （太简单）

**优化后：**
- "审计一次代码需要多少钱？" （更具体）
- "如何连接 MetaMask 钱包？" （指定钱包）
- "审计需要等待多长时间？" （关注时间）
- "支持检测哪些安全问题？" （关注功能）

## 新的系统提示词结构

```
# RustSentinel 平台介绍
- 简短介绍

# 主要功能
1. AI 代码审计
2. 区块链支付（具体金额）
3. 审计历史
4. 安全检查类型（6 种具体类型）

# 使用流程（详细步骤）
1. 连接钱包（具体操作）
2. 输入代码（支持的格式）
3. 开始审计（点击按钮）
4. 支付费用（具体金额和流程）
5. 查看结果（时间和内容）

# 支持的网络
- Sepolia 测试网
- 以太坊主网

# 常见问题
Q&A 格式，预设答案

# 回答规则
明确的回答指导原则
```

## 预期效果

### 示例 1：审计流程
```
用户：如何使用 RustSentinel 审计代码？

AI：使用 RustSentinel 审计代码很简单，只需 5 步：

1. 连接钱包：点击右上角"连接钱包"，选择 MetaMask
2. 输入代码：在编辑器中粘贴你的 Rust 代码
3. 开始审计：点击"开始审计"按钮
4. 支付费用：确认支付 0.001 ETH（约 $2-3）
5. 查看结果：等待 30-60 秒即可看到详细的安全报告

审计会检测缓冲区溢出、整数溢出等 6 种常见安全问题。
```

### 示例 2：费用问题
```
用户：审计费用是多少？

AI：RustSentinel 的审计费用是 0.001 ETH per 次，约等于 $2-3 USD（根据当前 ETH 价格）。

费用通过智能合约自动处理，支付后立即开始审计。建议在 Sepolia 测试网先试用（免费测试币），熟悉流程后再使用主网。
```

### 示例 3：钱包连接
```
用户：如何连接钱包？

AI：连接钱包步骤：

1. 点击页面右上角的"连接钱包"按钮
2. 选择你的钱包类型（推荐 MetaMask）
3. 在弹出的钱包窗口中点击"连接"
4. 授权 RustSentinel 访问你的钱包地址

支持的钱包：MetaMask、WalletConnect、Coinbase Wallet 等所有以太坊钱包。

如果是第一次使用，建议先切换到 Sepolia 测试网进行测试。
```

## 调整推理参数

为了获得更好的回答质量，可以调整：

```python
"options": {
    "temperature": 0.7,      # 保持创造性和准确性的平衡
    "num_predict": 512,      # 足够的长度给出详细回答
    "top_p": 0.9,           # 可选：控制采样范围
    "repeat_penalty": 1.1    # 可选：避免重复
}
```

## 进一步优化建议

### 1. 添加示例代码
在提示词中加入 Rust 代码示例：
```rust
// 示例：有缓冲区溢出风险的代码
fn get_element(arr: &[i32], index: usize) -> Option<&i32> {
    arr.get(index)  // 正确：使用 get() 进行边界检查
}
```

### 2. 添加截图引用
```
"点击右上角的蓝色'连接钱包'按钮（钱包图标）"
```

### 3. 添加故障排除
```
常见问题：
- 钱包连接失败 → 检查网络是否正确
- 支付失败 → 确保钱包有足够的 ETH
- 审计超时 → 代码可能太长，建议分段审计
```

### 4. 添加链接
```
更多信息请访问：
- 文档：https://rustsentinel.com/docs
- GitHub：https://github.com/rustsentinel
```

## 测试建议

### 测试问题列表
1. "审计费用是多少？"
2. "如何连接钱包？"
3. "审计需要多长时间？"
4. "支持哪些安全检查？"
5. "可以审计多大的代码？"
6. "支持哪些网络？"
7. "如何查看历史记录？"
8. "审计失败怎么办？"
9. "可以退款吗？"
10. "如何获得测试币？"

### 评估标准
- ✅ 回答是否具体（有数字、步骤）
- ✅ 回答是否完整（覆盖关键信息）
- ✅ 回答是否简洁（100-200 字）
- ✅ 回答是否友好（语气亲切）
- ✅ 回答是否准确（信息正确）

## 持续优化

### 收集用户反馈
1. 添加"有帮助"/"无帮助"按钮
2. 记录用户最常问的问题
3. 分析哪些回答需要改进

### 定期更新提示词
1. 根据用户反馈调整
2. 添加新功能说明
3. 更新价格和时间信息

### A/B 测试
1. 测试不同的提示词版本
2. 比较用户满意度
3. 选择最佳版本

## 总结

优化后的提示词特点：
- ✅ **具体**：明确的数字、步骤、示例
- ✅ **完整**：覆盖所有常见问题
- ✅ **结构化**：清晰的分类和格式
- ✅ **友好**：亲切的语气和指导
- ✅ **实用**：直接可操作的建议

这将大大提升 AI 助手的实用性和用户满意度！
